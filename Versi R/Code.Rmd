---
title: "R Notebook"
output: html_notebook
---

Machine Learning for Market Basket Analysis

```{r}
#Menggunakan library arules
library(arules)
```
```{r}
#Membaca transaksi, kali ini saya meminjam data dari DQLab
transaksi <- read.transactions(file="https://academy.dqlab.id/dataset/data_transaksi2.txt", format="single", sep="\t", cols=c(1,2), skip=1)
```
```{r}
#Mari kita lihat ada item unik apa saja di dalam transaksi, beserta kode transaksinya
transaksi@itemInfo
transaksi@itemsetInfo
```
```{r}
#Mari kita lihat 10 item apa yang paling sering muncul
data_persen <- itemFrequency(transaksi)
data_persen <- sort(data_persen, decreasing = TRUE)
data_persen[1:10]
```
```{r}
#Data di atas dihitung dengan persentase, bagaimana jika kita ingin melihat angka sebenarnya dari data transaksi kita, mari kita lihat dengan menggunakan method "type = absolute" pada itemfrequency, kali ini saya ingin melihat 10 item yang paling jarang dibeli
data_item <- itemFrequency(transaksi, type="absolute")
data_item <- sort(data_item, decreasing = FALSE)
data_item[1:10]
```
```{r}
#Mari kita mulai membuat model assosiate rule dan disimpan di variabel mba, kali ini kita cukup menggunakan parameter asli dari algoritma apriori
mba <- apriori(transaksi)
```
```{r}
#Lalu kita tampilkan rekomendasi yang dihasilkan
inspect(mba)
```
Selesai, kita sudah memiliki beberapa kombinasi terbaik,contoh seperti data di atas, jika orang membeli barang "celana jeans sobek wanita", kita bisa menawarkan "shampo biasa", atau kedua barang tersebut bisa kita paketkan langsung.. data di atas sudah cukup bagus dengan support 20% dari total 1000 transaksi, dan lift juga di atas 1
